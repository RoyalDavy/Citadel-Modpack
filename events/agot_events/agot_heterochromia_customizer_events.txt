namespace = agot_heterochromia_customizer

# Custom Heterochromia
agot_heterochromia_customizer.1000 = {
	type = character_event
	title = agot_heterochromia_customizer.1000.t
	desc = agot_heterochromia_customizer.1000.desc
	theme = dynasty
	override_background = {
		reference = throne_room
	}
	left_portrait = {
		character = root
		hide_info = yes
		camera = camera_head
	}

	# Select Eyes
	option = {
		name = agot_heterochromia_customizer.1000.a
		set_variable = heterochromia_selection
		trigger_event = agot_heterochromia_customizer.1001
		if = {
			limit = {
				agot_has_inactive_heterochromia_trait_trigger = yes
			}
			agot_remove_heterochromia_eyes_effect = yes
		}
		if = {
			limit = {
				has_inactive_trait = heterochromia_green1
			}
			custom_tooltip = heterochromia_green1_tt
		}
		else_if = {
			limit = {
				has_inactive_trait = heterochromia_green2
			}
			custom_tooltip = heterochromia_green2_tt
		}
		else_if = {
			limit = {
				has_inactive_trait = heterochromia_blue1
			}
			custom_tooltip = heterochromia_blue1_tt
		}
		else_if = {
			limit = {
				has_inactive_trait = heterochromia_blue2
			}
			custom_tooltip = heterochromia_blue2_tt
		}
		else_if = {
			limit = {
				has_inactive_trait = heterochromia_black1
			}
			custom_tooltip = heterochromia_black1_tt
		}
		else_if = {
			limit = {
				has_inactive_trait = heterochromia_black2
			}
			custom_tooltip = heterochromia_black2_tt
		}
		else_if = {
			limit = {
				has_inactive_trait = heterochromia_brown1
			}
			custom_tooltip = heterochromia_brown1_tt
		}
		else_if = {
			limit = {
				has_inactive_trait = heterochromia_brown2
			}
			custom_tooltip = heterochromia_brown2_tt
		}
		else_if = {
			limit = {
				has_inactive_trait = heterochromia_brown3
			}
			custom_tooltip = heterochromia_brown3_tt
		}
		else_if = {
			limit = {
				has_inactive_trait = heterochromia_grey
			}
			custom_tooltip = heterochromia_grey_tt
		}
		else_if = {
			limit = {
				has_inactive_trait = heterochromia_purple1
			}
			custom_tooltip = heterochromia_purple1_tt
		}
		else_if = {
			limit = {
				has_inactive_trait = heterochromia_purple2
			}
			custom_tooltip = heterochromia_purple2_tt
		}
		else_if = {
			limit = {
				has_inactive_trait = heterochromia_purple3
			}
			custom_tooltip = heterochromia_purple3_tt
		}
		else_if = {
			limit = {
				has_inactive_trait = heterochromia_purple4
			}
			custom_tooltip = heterochromia_purple4_tt
		}
		else_if = {
			limit = {
				has_inactive_trait = heterochromia_red
			}
			custom_tooltip = heterochromia_red_tt
		}
		else_if = {
			limit = {
				has_inactive_trait = heterochromia_gold
			}
			custom_tooltip = heterochromia_gold_tt
		}
	}
	# Finished
	option = {
		name = agot_heterochromia_customizer.1000.b
		remove_trait = heterochromia_customizer
		add_trait = heterochromia_eyes
		trigger = {
			NOT = {
				has_inactive_trait = heterochromia_gold
			}
		}
	}
	# Finished
	option = {
		name = agot_heterochromia_customizer.1000.b
		remove_trait = heterochromia_customizer
		add_trait = heterochromia_eyes
		trigger = {
			has_inactive_trait = heterochromia_gold
		}
		random_list = {
			50 = { }
			50 = {
				if = {
					limit = {
						has_inactive_trait = heterochromia_gold
					}
					hidden_effect = { give_nickname = nick_goldeneye }
					custom_tooltip = goldeneye_nickname_tt
				}
			}
		}
	}
	# On second thought, I don't want heterochromia at all
	option = {
		name = agot_heterochromia_customizer.1000.c
		remove_trait = heterochromia_customizer
		custom_tooltip = agot_heterochromia_customizer.1000.c_tt
		if = {
			limit = {
				has_trait = heterochromia_eyes
			}
			remove_trait = heterochromia_eyes
		}
		hidden_effect = { agot_remove_heterochromia_eyes_effect = yes }
	}
}
agot_heterochromia_customizer.1001 = {
	type = character_event
	title = agot_heterochromia_customizer.1000.t
	desc = agot_heterochromia_customizer.1000.desc
	theme = dynasty
	override_background = {
		reference = throne_room
	}
	left_portrait = {
		character = root
		hide_info = yes
		camera = camera_head
	}
	widget = {
		gui = "event_window_heterochromia"
		container = "custom_widgets_container"
	}
	option = {
		name = agot_heterochromia_customizer.1001.a
		remove_variable = heterochromia_selection

		trigger_event = agot_heterochromia_customizer.1000
	}
}